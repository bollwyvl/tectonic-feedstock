diff --git a/tectonic/xetex0.c b/tectonic/xetex0.c
index da79acc..698338f 100644
--- a/tectonic/xetex0.c
+++ b/tectonic/xetex0.c
@@ -10,6 +10,9 @@
 #include "synctex.h"
 #include "core-bridge.h"
 
+#ifndef M_PI
+#define M_PI 3.14159265358979
+#endif
 
 #define IS_LC_HEX(c) (((c) >= '0' && (c) <= '9' ) || ((c) >= 'a' && (c) <= 'f' ))
 
